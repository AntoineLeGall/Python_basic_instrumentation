from Classes import Initialisation
import serial
import time

#Coordonnees a atteindre
h1=Initialisation(-5,0)
h2=Initialisation(5,0)
h3=Initialisation(-10,0)
h4=Initialisation(10,0)

s = serial.Serial('COM4',115200);
time.sleep(2)
s.flushInput()
print(Initialisation.nombredelignes)

for i in range (Initialisation.nombredelignes):
    string2Send=(h4.Gcode)
    print("Sending :{}".format(string2Send))
    s.write(string2Send.encode()) # Send g-code block to grbl
    grbl_out = s.readline() # Wait for grbl response with carriage return
    print(" : " + grbl_out.decode().strip())
    time.sleep(5)
    
s.close()